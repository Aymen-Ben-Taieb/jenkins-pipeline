"use strict";(self.webpackChunkremote_dev_env=self.webpackChunkremote_dev_env||[]).push([[5524],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>d});var a=r(7294);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,l=function(e,t){if(null==e)return{};var r,a,l={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(l[r]=e[r]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var i=a.createContext({}),u=function(e){var t=a.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=u(e.components);return a.createElement(i.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var r=e.components,l=e.mdxType,n=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=u(r),m=l,d=h["".concat(i,".").concat(m)]||h[m]||p[m]||n;return r?a.createElement(d,o(o({ref:t},c),{},{components:r})):a.createElement(d,o({ref:t},c))}));function d(e,t){var r=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var n=r.length,o=new Array(n);o[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s[h]="string"==typeof e?e:l,o[1]=s;for(var u=2;u<n;u++)o[u]=r[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9085:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>n,metadata:()=>s,toc:()=>u});var a=r(7462),l=(r(7294),r(3905));const n={sidebar_position:2},o=void 0,s={unversionedId:"Secrets/Install Vault",id:"Secrets/Install Vault",title:"Install Vault",description:"Install the Vault Helm chart",source:"@site/docs/Secrets/Install Vault.md",sourceDirName:"Secrets",slug:"/Secrets/Install Vault",permalink:"/docs/Secrets/Install Vault",draft:!1,editUrl:"https://github.com/Chamssiddine/remote-development-environment/docs/Secrets/Install Vault.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"CentralizedSecret",permalink:"/docs/Secrets/CentralizedSecret"},next:{title:"Configure Vault Cluster",permalink:"/docs/Secrets/Configure Vault"}},i={},u=[{value:"Install the Vault Helm chart",id:"install-the-vault-helm-chart",level:2},{value:"Installing the Vault Helm Chart on Kubernetes",id:"installing-the-vault-helm-chart-on-kubernetes",level:2},{value:"Step 1: Add HashiCorp Helm Repository",id:"step-1-add-hashicorp-helm-repository",level:3},{value:"Step 2: Update Helm Repositories",id:"step-2-update-helm-repositories",level:3},{value:"Step 3: Choose a Vault Helm Chart Version",id:"step-3-choose-a-vault-helm-chart-version",level:3},{value:"Step 4: Install the Vault Helm Chart",id:"step-4-install-the-vault-helm-chart",level:3},{value:"Additional Resources",id:"additional-resources",level:3}],c={toc:u},h="wrapper";function p(e){let{components:t,...r}=e;return(0,l.kt)(h,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"install-the-vault-helm-chart"},"Install the Vault Helm chart"),(0,l.kt)("p",null,"The recommended way to run Vault on Kubernetes is via the ",(0,l.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/vault/docs/platform/k8s/helm"},"Helm chart"),"."),(0,l.kt)("p",null,"Go to the helm values folder in ",(0,l.kt)("inlineCode",{parentName:"p"},"/helm_charts/vault_chart")),(0,l.kt)("p",null,"Add the HashiCorp Helm repository."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"}," helm repo add hashicorp https://helm.releases.hashicorp.com\n")),(0,l.kt)("p",null,"Update all the repositories to ensure helm is aware of the latest versions."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"helm repo update\n")),(0,l.kt)("p",null,"Search for all the Vault Helm chart versions and choose a version."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"}," helm search repo vault --versions\n")),(0,l.kt)("p",null,"Install the version you chose of the Vault Helm chart in HA mode with integrated storage."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"}," helm install vault hashicorp/vault \\\n    --set='server.ha.enabled=true' \\\n    --set='server.ha.raft.enabled=true' \\\n    -f vault_values.yaml \\\n    --version  0.24.0 \\\n    -n secrets --create-namespace\n\n")),(0,l.kt)("p",null,"this the offical documentation on installing vault ",(0,l.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/vault/tutorials/kubernetes/kubernetes-google-cloud-gke"},"link")),(0,l.kt)("h2",{id:"installing-the-vault-helm-chart-on-kubernetes"},"Installing the Vault Helm Chart on Kubernetes"),(0,l.kt)("p",null,"To run Vault on Kubernetes, it is recommended to use the Helm chart provided by HashiCorp. The following steps outline the process of installing Vault on Kubernetes using the Helm chart:"),(0,l.kt)("h3",{id:"step-1-add-hashicorp-helm-repository"},"Step 1: Add HashiCorp Helm Repository"),(0,l.kt)("p",null,"Add the HashiCorp Helm repository to your local Helm installation by executing the following command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add hashicorp https://helm.releases.hashicorp.com\n")),(0,l.kt)("h3",{id:"step-2-update-helm-repositories"},"Step 2: Update Helm Repositories"),(0,l.kt)("p",null,"Update all the repositories to ensure that Helm is aware of the latest available versions of the charts:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo update\n")),(0,l.kt)("h3",{id:"step-3-choose-a-vault-helm-chart-version"},"Step 3: Choose a Vault Helm Chart Version"),(0,l.kt)("p",null,"Search for all available versions of the Vault Helm chart and choose the version that suits your requirements. Use the following command to search for available versions:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm search repo vault --versions\n")),(0,l.kt)("h3",{id:"step-4-install-the-vault-helm-chart"},"Step 4: Install the Vault Helm Chart"),(0,l.kt)("p",null,"Install the chosen version of the Vault Helm chart in High Availability (HA) mode with integrated storage. You can use the provided ",(0,l.kt)("inlineCode",{parentName:"p"},"vault_values.yaml")," file located ",(0,l.kt)("inlineCode",{parentName:"p"},"helm_chart/vault_chart")," to customize the chart's configuration. Execute the following command to install the Vault Helm chart:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"helm install vault hashicorp/vault \\\n  --set='server.ha.enabled=true' \\\n  --set='server.ha.raft.enabled=true' \\\n  -f vault_values.yaml \\\n  --version 0.24.0 \\\n  -n secrets --create-namespace\n")),(0,l.kt)("h3",{id:"additional-resources"},"Additional Resources"),(0,l.kt)("p",null,"For more detailed instructions and information on installing Vault on Kubernetes, you can refer to the official documentation: ",(0,l.kt)("a",{parentName:"p",href:"https://developer.hashicorp.com/vault/tutorials/kubernetes/kubernetes-google-cloud-gke"},"Kubernetes-Google Cloud GKE Tutorial"),"."),(0,l.kt)("p",null,"By following these steps, you will be able to successfully install and configure Vault on your Kubernetes cluster using the Helm chart."))}p.isMDXComponent=!0}}]);