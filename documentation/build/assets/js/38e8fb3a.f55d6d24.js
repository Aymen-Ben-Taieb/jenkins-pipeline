"use strict";(self.webpackChunkremote_dev_env=self.webpackChunkremote_dev_env||[]).push([[4417],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(t),d=i,g=u["".concat(l,".").concat(d)]||u[d]||m[d]||o;return t?r.createElement(g,a(a({ref:n},c),{},{components:t})):r.createElement(g,a({ref:n},c))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[u]="string"==typeof e?e:i,a[1]=s;for(var p=2;p<o;p++)a[p]=t[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9922:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=t(7462),i=(t(7294),t(3905));const o={sidebar_position:2},a="AWX Trigger Pipeline",s={unversionedId:"Continous Integration/Jenkins Pipelines/AWX Pipeline",id:"Continous Integration/Jenkins Pipelines/AWX Pipeline",title:"AWX Trigger Pipeline",description:"The AWX Trigger pipeline is responsible for triggering Ansible Tower jobs in AWX. It allows you to automate the execution of specific job templates from within your Jenkins pipeline.",source:"@site/docs/Continous Integration/Jenkins Pipelines/AWX Pipeline.md",sourceDirName:"Continous Integration/Jenkins Pipelines",slug:"/Continous Integration/Jenkins Pipelines/AWX Pipeline",permalink:"/docs/Continous Integration/Jenkins Pipelines/AWX Pipeline",draft:!1,editUrl:"https://github.com/Chamssiddine/remote-development-environment/docs/Continous Integration/Jenkins Pipelines/AWX Pipeline.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Infrastructure Creation Pipeline",permalink:"/docs/Continous Integration/Jenkins Pipelines/Infrastructure Pipeline"},next:{title:"Serverspec Testing Pipeline",permalink:"/docs/Continous Integration/Jenkins Pipelines/Serverspec Pipeline"}},l={},p=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Pipeline Configuration",id:"pipeline-configuration",level:2},{value:"Stages and Steps",id:"stages-and-steps",level:2}],c={toc:p},u="wrapper";function m(e){let{components:n,...t}=e;return(0,i.kt)(u,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"awx-trigger-pipeline"},"AWX Trigger Pipeline"),(0,i.kt)("p",null,"The AWX Trigger pipeline is responsible for triggering Ansible Tower jobs in AWX. It allows you to automate the execution of specific job templates from within your Jenkins pipeline."),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"Before running the AWX Trigger pipeline, ensure the following prerequisites are met:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Jenkins: Set up Jenkins on your system or cluster."),(0,i.kt)("li",{parentName:"ol"},"Ansible Tower: Install and configure Ansible Tower, also known as AWX, and set up the necessary job templates."),(0,i.kt)("li",{parentName:"ol"},'Jenkins Credentials: Create a Jenkins credential of type "Username with password" to store the AWX credentials. This credential should be referenced as ',(0,i.kt)("inlineCode",{parentName:"li"},"awxcredentials")," in the pipeline.")),(0,i.kt)("h2",{id:"pipeline-configuration"},"Pipeline Configuration"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pipeline {\n    agent any\n\n    stages {\n        stage('Trigger Docker Ansible Tower Job') {\n            steps {\n                ansibleTower jobTemplate: 'docker',\n                jobType: 'run', scmBranch: 'main', \n                throwExceptionWhenFail: false, \n                towerCredentialsId: 'awxcredentials ',\n                towerLogLevel: 'full', towerServer: 'awx'            \n                \n            }\n        }\n        stage('Trigger Dev Tools Ansible Tower Job') {\n            steps {\n                ansibleTower jobTemplate: 'devtools',\n                jobType: 'run', scmBranch: 'main', \n                throwExceptionWhenFail: false, \n                towerCredentialsId: 'awxcredentials ',\n                towerLogLevel: 'full', towerServer: 'awx'            \n                \n            }\n        }\n    }\n}\n\n")),(0,i.kt)("h2",{id:"stages-and-steps"},"Stages and Steps"),(0,i.kt)("p",null,"The AWX Trigger pipeline consists of the following stages:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Trigger Docker Ansible Tower Job"),": This stage triggers the Docker job template in AWX."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Trigger Dev Tools Ansible Tower Job"),": This stage triggers the Dev Tools job template in AWX.")),(0,i.kt)("p",null,"Each stage uses the ",(0,i.kt)("inlineCode",{parentName:"p"},"ansibleTower")," step to trigger the corresponding job template in AWX."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"stage('Trigger Docker Ansible Tower Job') {\n    steps {\n        ansibleTower jobTemplate: 'docker',\n        jobType: 'run', scmBranch: 'main', \n        throwExceptionWhenFail: false, \n        towerCredentialsId: 'awxcredentials',\n        towerLogLevel: 'full', towerServer: 'awx'            \n    }\n}\n")),(0,i.kt)("p",null,"In this example, the ",(0,i.kt)("inlineCode",{parentName:"p"},"ansibleTower")," step is used to trigger the ",(0,i.kt)("inlineCode",{parentName:"p"},"docker")," job template. Adjust the ",(0,i.kt)("inlineCode",{parentName:"p"},"jobTemplate")," parameter to match the name of your Docker job template in AWX. You can also customize other parameters according to your specific requirements."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"stage('Trigger Dev Tools Ansible Tower Job') {\n    steps {\n        ansibleTower jobTemplate: 'devtools',\n        jobType: 'run', scmBranch: 'main', \n        throwExceptionWhenFail: false, \n        towerCredentialsId: 'awxcredentials',\n        towerLogLevel: 'full', towerServer: 'awx'            \n    }\n}\n")),(0,i.kt)("p",null,"In this example, the ",(0,i.kt)("inlineCode",{parentName:"p"},"ansibleTower")," step is used to trigger the ",(0,i.kt)("inlineCode",{parentName:"p"},"devtools")," job template. Adjust the ",(0,i.kt)("inlineCode",{parentName:"p"},"jobTemplate")," parameter to match the name of your Dev Tools job template in AWX. Customize other parameters as needed."),(0,i.kt)("p",null,"Make sure to replace ",(0,i.kt)("inlineCode",{parentName:"p"},"awxcredentials")," with the actual Jenkins credential ID for your AWX credentials."),(0,i.kt)("p",null,"Remember to adjust the ",(0,i.kt)("inlineCode",{parentName:"p"},"towerServer")," value to match the AWX server you are using."),(0,i.kt)("p",null,"Please note that this is a simplified overview of the pipeline, and you may need to modify it according to your specific requirements and environment."))}m.isMDXComponent=!0}}]);