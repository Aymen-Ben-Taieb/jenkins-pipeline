"use strict";(self.webpackChunkremote_dev_env=self.webpackChunkremote_dev_env||[]).push([[1013],{3905:(e,a,t)=>{t.d(a,{Zo:()=>p,kt:()=>k});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=n.createContext({}),l=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=l(e.components);return n.createElement(i.Provider,{value:a},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(t),d=r,k=u["".concat(i,".").concat(d)]||u[d]||m[d]||s;return t?n.createElement(k,o(o({ref:a},p),{},{components:t})):n.createElement(k,o({ref:a},p))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=d;var c={};for(var i in a)hasOwnProperty.call(a,i)&&(c[i]=a[i]);c.originalType=e,c[u]="string"==typeof e?e:r,o[1]=c;for(var l=2;l<s;l++)o[l]=t[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9894:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>l});var n=t(7462),r=(t(7294),t(3905));const s={sidebar_position:2},o=void 0,c={unversionedId:"Backup/Installatation of Kasten10 by Veaam",id:"Backup/Installatation of Kasten10 by Veaam",title:"Installatation of Kasten10 by Veaam",description:"Step 1: Create a K10 Service Account",source:"@site/docs/Backup/Installatation of Kasten10 by Veaam.md",sourceDirName:"Backup",slug:"/Backup/Installatation of Kasten10 by Veaam",permalink:"/docs/Backup/Installatation of Kasten10 by Veaam",draft:!1,editUrl:"https://github.com/Chamssiddine/remote-development-environment/docs/Backup/Installatation of Kasten10 by Veaam.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Veeam Use Cases",permalink:"/docs/Backup/Introduction"},next:{title:"Backup kubernetes namespace with Kasten10 by Veeam",permalink:"/docs/Backup/Backup kubernetes namespace with Kasten10 by Veeam"}},i={},l=[{value:"Step 1: Create a K10 Service Account",id:"step-1-create-a-k10-service-account",level:2},{value:"Create a K10 service account",id:"create-a-k10-service-account",level:3},{value:"Generate a key file (k10-sa-key.json)",id:"generate-a-key-file-k10-sa-keyjson",level:3},{value:"Assign the necessary permissions to the service account for storage administration.",id:"assign-the-necessary-permissions-to-the-service-account-for-storage-administration",level:3},{value:"Step 2: Add Kasten Helm Repository and Create Namespace",id:"step-2-add-kasten-helm-repository-and-create-namespace",level:2},{value:"Step 3: Install Kasten K10 using Helm",id:"step-3-install-kasten-k10-using-helm",level:2},{value:"Step 4: Access Veeam Dashboard using Port Forward",id:"step-4-access-veeam-dashboard-using-port-forward",level:2}],p={toc:l},u="wrapper";function m(e){let{components:a,...t}=e;return(0,r.kt)(u,(0,n.Z)({},p,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"step-1-create-a-k10-service-account"},"Step 1: Create a K10 Service Account"),(0,r.kt)("h3",{id:"create-a-k10-service-account"},"Create a K10 service account"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"myproject=$(gcloud config get-value core/project)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'gcloud iam service-accounts create k10-sa --display-name "K10 Service Account"\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'k10saemail=$(gcloud iam service-accounts list --filter "k10-sa" --format="value(email)")\n')),(0,r.kt)("h3",{id:"generate-a-key-file-k10-sa-keyjson"},"Generate a key file (k10-sa-key.json)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud iam service-accounts keys create --iam-account=${k10saemail} k10-sa-key.json\n")),(0,r.kt)("h3",{id:"assign-the-necessary-permissions-to-the-service-account-for-storage-administration"},"Assign the necessary permissions to the service account for storage administration."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gcloud projects add-iam-policy-binding ${myproject} --member serviceAccount:${k10saemail} --role roles/compute.storageAdmin\n")),(0,r.kt)("h2",{id:"step-2-add-kasten-helm-repository-and-create-namespace"},"Step 2: Add Kasten Helm Repository and Create Namespace"),(0,r.kt)("p",null,"Add the Kasten Helm repository to your local repository list by running the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add kasten https://charts.kasten.io/\n")),(0,r.kt)("p",null,"Create a namespace named kasten-io where K10 will be installed by running the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"kubectl create namespace kasten-io\n")),(0,r.kt)("h2",{id:"step-3-install-kasten-k10-using-helm"},"Step 3: Install Kasten K10 using Helm"),(0,r.kt)("p",null,"Exports the contents of the k10-sa-key.json file as a base64-encoded value and assigns it to the sa_key environment variable, which can be used for authentication or configuration purposes in subsequent commands, use the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"export sa_key=$(base64 k10-sa-key.json)\n# export sa_key=$(base64 -w0 k10-sa-key.json)\n")),(0,r.kt)("p",null,"Install K10 in the kasten-io namespace and sets the Google API key using the contents of the base64-encoded k10-sa-key.json file by typing the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"helm install k10 kasten/k10 --namespace=kasten-io --set secrets.googleApiKey=$sa_key\n")),(0,r.kt)("h2",{id:"step-4-access-veeam-dashboard-using-port-forward"},"Step 4: Access Veeam Dashboard using Port Forward"),(0,r.kt)("p",null,"To access the Veeam dashboard, execute the following command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"kubectl --namespace kasten-io port-forward service/gateway 8080:8000\n")),(0,r.kt)("p",null,"After running this command, open your web browser and visit ",(0,r.kt)("inlineCode",{parentName:"p"},"http://127.0.0.1:8080/k10/#/")," to access the Veeam dashboard."),(0,r.kt)("p",null,"For a more detailed guide, please refer to the blog post at the following ",(0,r.kt)("a",{parentName:"p",href:"https://24xsiempre.com/en/how-to-install-kasten-k10-on-google-gke"},"link")))}m.isMDXComponent=!0}}]);